module.exports=[64781,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactJsxRuntime},72146,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactServerDOMTurbopackClient},59947,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactDOM},3130,a=>{"use strict";var b=a.i(64781),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},88237,a=>{"use strict";var b=a.i(64781),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},5250,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(8490),e=a.i(3130),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(88237),j=a.i(60563),k=a.i(33955),l=a.i(97895);function m({...a}){return(0,b.jsx)(j.Root,{"data-slot":"dialog",...a})}function n({...a}){return(0,b.jsx)(j.Trigger,{"data-slot":"dialog-trigger",...a})}function o({...a}){return(0,b.jsx)(j.Portal,{"data-slot":"dialog-portal",...a})}function p({className:a,...c}){return(0,b.jsx)(j.Overlay,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function q({className:a,children:c,showCloseButton:d=!0,...e}){return(0,b.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,b.jsx)(p,{}),(0,b.jsxs)(j.Content,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...e,children:[c,d&&(0,b.jsxs)(j.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(k.XIcon,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function r({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function s({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...c})}function t({className:a,...c}){return(0,b.jsx)(j.Title,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",a),...c})}function u({className:a,...c}){return(0,b.jsx)(j.Description,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",a),...c})}var v=a.i(40076),w=a.i(61237);let x=(0,w.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),y=(0,w.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var z=a.i(9606),A=a.i(87123),B=(0,A.createServerReference)("40d43bd0abacbac93f2bc354b1ff4c566d9c7aa34b",A.callServer,void 0,A.findSourceMapURL,"createDepartment"),C=(0,A.createServerReference)("60f9a1ddfff114a346f6210ccc32da65669ccd624a",A.callServer,void 0,A.findSourceMapURL,"updateDepartment");function D({departments:a,isHROrAdmin:j}){let k=(0,d.useRouter)(),[l,o]=(0,c.useState)(!1),[p,w]=(0,c.useState)(null),[A,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)({name:"",code:""}),G=async()=>{if(!E.name.trim())return void z.toast.error("Name is required");D(!0);try{if(p){let a=await C(p.id,{name:E.name,code:E.code||null});a.success?(z.toast.success("Department updated"),o(!1),k.refresh()):z.toast.error(a.error)}else{let a=await B({name:E.name,code:E.code||void 0});a.success?(z.toast.success("Department created"),o(!1),k.refresh()):z.toast.error(a.error)}}finally{D(!1)}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Departments"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Organization structure"})]}),j&&(0,b.jsxs)(m,{open:l,onOpenChange:o,children:[(0,b.jsx)(n,{asChild:!0,children:(0,b.jsxs)(f.Button,{onClick:()=>{w(null),F({name:"",code:""}),o(!0)},children:[(0,b.jsx)(x,{className:"h-4 w-4 mr-2"}),"Add Department"]})}),(0,b.jsxs)(q,{children:[(0,b.jsxs)(r,{children:[(0,b.jsx)(t,{children:p?"Edit Department":"Create Department"}),(0,b.jsx)(u,{children:p?"Update the department information":"Add a new department to your organization"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"name",children:"Name *"}),(0,b.jsx)(g.Input,{id:"name",value:E.name,onChange:a=>F({...E,name:a.target.value}),placeholder:"e.g., Human Resources"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"code",children:"Code"}),(0,b.jsx)(g.Input,{id:"code",value:E.code,onChange:a=>F({...E,code:a.target.value.toUpperCase()}),placeholder:"e.g., HR"})]})]}),(0,b.jsxs)(s,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:G,disabled:A,children:A?"Saving...":"Save"})]})]})]})]}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Department"}),(0,b.jsx)(i.TableHead,{children:"Code"}),(0,b.jsx)(i.TableHead,{children:"Created"}),j&&(0,b.jsx)(i.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(i.TableBody,{children:0===a.length?(0,b.jsx)(i.TableRow,{children:(0,b.jsx)(i.TableCell,{colSpan:j?4:3,className:"text-center py-8 text-muted-foreground",children:"No departments found"})}):a.map(a=>(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-indigo-100",children:(0,b.jsx)(v.Building2,{className:"h-4 w-4 text-indigo-600"})}),(0,b.jsx)("span",{className:"font-medium",children:a.name})]})}),(0,b.jsx)(i.TableCell,{children:a.code?(0,b.jsx)("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:a.code}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,b.jsx)(i.TableCell,{className:"text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()}),j&&(0,b.jsx)(i.TableCell,{className:"text-right",children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{w(a),F({name:a.name,code:a.code||""}),o(!0)},children:[(0,b.jsx)(y,{className:"h-4 w-4 mr-1"}),"Edit"]})})]},a.id))})]})})})]})}a.s(["DepartmentList",()=>D],5250)}];

//# sourceMappingURL=_5dcc89df._.js.map