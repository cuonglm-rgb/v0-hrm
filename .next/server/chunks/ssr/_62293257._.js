module.exports=[15402,a=>{"use strict";var b=a.i(5404),c=a.i(98310),d=a.i(80512);async function e(){let a=await (0,c.createClient)(),{data:b,error:d}=await a.from("departments").select("*").order("name");return d?(console.error("Error listing departments:",d),[]):b||[]}async function f(){let a=await (0,c.createClient)(),{data:b,error:d}=await a.from("positions").select("*").order("level",{ascending:!1});return d?(console.error("Error listing positions:",d),[]):b||[]}async function g(a){let b=await (0,c.createClient)(),{error:e}=await b.from("departments").insert(a);return e?(console.error("Error creating department:",e),{success:!1,error:e.message}):((0,d.revalidatePath)("/dashboard/departments"),{success:!0})}async function h(a,b){let e=await (0,c.createClient)(),{error:f}=await e.from("departments").update(b).eq("id",a);return f?(console.error("Error updating department:",f),{success:!1,error:f.message}):((0,d.revalidatePath)("/dashboard/departments"),{success:!0})}(0,a.i(34207).ensureServerEntryExports)([e,f,g,h]),(0,b.registerServerReference)(e,"00cb34bb7586d41871dfb9563a4a3bb133f4f4fb9c",null),(0,b.registerServerReference)(f,"0031c11a418a59d70344f445ed7cb987eb2d1bd072",null),(0,b.registerServerReference)(g,"40d43bd0abacbac93f2bc354b1ff4c566d9c7aa34b",null),(0,b.registerServerReference)(h,"60f9a1ddfff114a346f6210ccc32da65669ccd624a",null),a.s(["createDepartment",()=>g,"listDepartments",()=>e,"listPositions",()=>f,"updateDepartment",()=>h])},56535,a=>{"use strict";var b=a.i(5404),c=a.i(98310),d=a.i(80512);async function e(){let a=await (0,c.createClient)(),{data:b,error:d}=await a.from("roles").select("*").order("name");return d?(console.error("Error listing roles:",d),[]):b||[]}async function f(a,b,e){let f=await (0,c.createClient)(),{data:g}=await f.from("roles").select("id").eq("code",b).single();if(!g)return{success:!1,error:"Role not found"};let{error:h}=await f.from("user_roles").upsert({user_id:a,role_id:g.id,department_id:e||null},{onConflict:"user_id,role_id"});return h?(console.error("Error assigning role:",h),{success:!1,error:h.message}):((0,d.revalidatePath)("/dashboard/employees"),{success:!0})}async function g(a,b){let e=await (0,c.createClient)(),{data:f}=await e.from("roles").select("id").eq("code",b).single();if(!f)return{success:!1,error:"Role not found"};let{error:g}=await e.from("user_roles").delete().eq("user_id",a).eq("role_id",f.id);return g?(console.error("Error removing role:",g),{success:!1,error:g.message}):((0,d.revalidatePath)("/dashboard/employees"),{success:!0})}async function h(a){let b=await (0,c.createClient)(),{data:d,error:e}=await b.from("user_roles").select(`
      *,
      role:roles(*)
    `).eq("user_id",a);return e?(console.error("Error fetching user roles:",e),[]):d||[]}(0,a.i(34207).ensureServerEntryExports)([e,f,g,h]),(0,b.registerServerReference)(e,"006908b65105a6649dde5900b3192cddc326f6f2a9",null),(0,b.registerServerReference)(f,"70797d62fb53121d1b1491d358e9110f184df7ce20",null),(0,b.registerServerReference)(g,"605ea632d708723700721e3ac66b7c5364f937262c",null),(0,b.registerServerReference)(h,"40a61802a1e18ea2d934a26f4496a52b4191335753",null),a.s(["assignRole",()=>f,"getUserRoles",()=>h,"listRoles",()=>e,"removeRole",()=>g])},46794,a=>{"use strict";var b=a.i(20624),c=a.i(15402),d=a.i(56535);a.s([],6094),a.i(6094),a.s(["0031c11a418a59d70344f445ed7cb987eb2d1bd072",()=>c.listPositions,"00615a52a55e0a543ef75e5baea30072c1753e165d",()=>b.listEmployees,"006908b65105a6649dde5900b3192cddc326f6f2a9",()=>d.listRoles,"00883990eb87fcbb43d391263ac0e80258f50fa142",()=>b.getMyRoles,"00b03b68086147c4f3c87b418d7c215dd6cb117979",()=>b.getMyEmployee,"00cb34bb7586d41871dfb9563a4a3bb133f4f4fb9c",()=>c.listDepartments,"4079a4797cba7170c9f24cb929d39c5458459914fe",()=>b.updateMyProfile,"40a61802a1e18ea2d934a26f4496a52b4191335753",()=>d.getUserRoles,"40d43bd0abacbac93f2bc354b1ff4c566d9c7aa34b",()=>c.createDepartment,"40ddf02cc5e4765fa3a030fd637e5f355c5f442611",()=>b.createEmployee,"40e459b772c74c679b1dae2e3f27180379dec5296b",()=>b.getEmployee,"602895f5cf22992ec5b7c548983ba3ab1dbcb8093a",()=>b.updateEmployee,"605ea632d708723700721e3ac66b7c5364f937262c",()=>d.removeRole,"60f9a1ddfff114a346f6210ccc32da65669ccd624a",()=>c.updateDepartment,"70797d62fb53121d1b1491d358e9110f184df7ce20",()=>d.assignRole],46794)}];

//# sourceMappingURL=_62293257._.js.map